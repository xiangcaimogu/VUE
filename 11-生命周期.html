<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="./node_modules/vue/dist/vue.js"></script>
</head>
<body>
<div id="app">
</div>

</body>

<script>
    // beforeCreate
    // created
    //
    // beforeMount
    // mounted
    //
    // beforeUpdate
    // updated
    //
    // activated
    // deactivated
    //
    // beforeDestroy
    // destroyed
    var Test = {
        template: `<div>
                    我是test组件{{text}}
                    <button @click="text=text+1">点击</button>
                  </div>`,
        data: function () {
            return {
                text: 'hello word'
            }
        },

        beforeCreate: function () {//组件创建之前
            console.log(this.text)
        },
        created: function () {//使用该组件，就会触发以上的钩子函数，created中可以操作数据，并且刷新到页面，应用：发起ajax的请求
            console.log(this.text)
        },


        beforeMount: function () {//vue起作用，装载数据之前的DOM页面
            // console.log(document.body.innerHTML)
            console.log('beforeMount')
        },
        mounted: function () {
            // console.log(document.body.innerHTML)
            console.log('mounted')
        },

        // 基于数据改变
        beforeUpdate: function () {//数据改变之前
            console.log(document.body.innerHTML)
        },
        updated: function () {
            console.log(document.body.innerHTML)
        },



        //对应父组件 v-if flase,就销毁当前组件
        //销毁，最终都是做一些其他功能，比如localStorage
        beforeDestroy: function () {//销毁之前
            console.log(this.text)
        },
        destroyed: function () {
            console.log(this.text)
        },
        activated: function () {
            console.log('组件被激活')
        },
        deactivated: function () {
            console.log('组件被停用')

        }
    }

    var App = {
        components: {
            test: Test
        },
        template: '<div>' +
        '<keep-alive>' +//内置组件，保持组件消失生命
            '<test v-if="isExist"></test>' +
        '</keep-alive>' +
        '<button @click="isExist=!isExist">点击子组件消失</button>' +
        '           </div>',
        data: function () {
            return {
                isExist: true
            }
        }

    };
    new Vue({
        el: "#app",
        components: {
            app: App
        },
        template: '<app/>'
    });
</script>
</html>